var querys=require('./js/querys').querys;

/**
 * Basic query for the simple database
 * @basicquery  
 */



function language(name,tablename,querys){
    this.name=name;
    this.tablename=tablename;
    this.querys=querys;
}

var tw=new language('taiwanese','Ctw', querys['taiwanese']);
var cn=new language('chinese','Cmainland',querys['chinese']);
var jp=new language('japanese','Cjp',querys['japanese']);

module.exports={
    temparray:[tw,cn,jp]
};


/* Circular dependency */
var indexes=require("./js/indexes");


module.exports = {

    init: function(callback) {
        indexes(function(err, result) {
            if (err) {
                console.log(err);
            }
            else {
                tw.indexes = result[tw.name];
                cn.indexes = result[cn.name];
                jp.indexes = result[jp.name];
                callback(null, {
                    'tw': tw,
                    'cn': cn,
                    'jp': jp
                });
            }
        });
    }
};


